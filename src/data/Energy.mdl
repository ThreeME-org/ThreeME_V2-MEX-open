include ..\model\lists

# ***AGREGATION OF ENERGY CONSUMPTION***

EN_CONFIN[ce,se] := ENERGY($se, 11+$ce) * (1 + STEADYSTATE(2, 1)) ^ (@year - %baseyear)


# equation 9.1: Energy consumption per sector
  EN_SEC[s] := sum(EN_SEC[ce,s] on ce)

  EN_AGR[ce] := sum(EN_SEC[ce, s] on s in 01 02)
  EN_IND[ce] := sum(EN_SEC[ce, s] on s in 03 04 05 06 07 08 10 11)
  EN_TRANSP[ce] := sum(EN_SEC[ce, s] on s in 12 13 14 15 16 17) 
  EN_SER[ce] := sum(EN_SEC[ce, s] on s in 18 19) 
  EN_TRANSFOR[ce] := sum(EN_SEC[ce, s] on s in 09 20 21)
  EN_GENER[ce] := sum(EN_SEC[ce, s] on s in 22 23 24 25 26 27 28 29 30 31 32 33)

# equation 9.2:  Energy consumption of all sectors
  EN_SEC := sum(EN_SEC[s] on s)

# equation 9.3: Energy consumption from Biomass of all sectors   
  EN_SEC_BIOM := sum(EN_SEC_BIOM[s] on s) 

# equation 9.3: Energy consumption per source
  EN_SOU[ce] := sum(EN_SEC[ce,s] on s)
 
# equation 9.4: Energy consumption of all sectors
  EN_SOU := sum(EN_SOU[ce] on ce)  
  Verif_EN := EN_SEC - EN_SOU
  
# equation 9.5: Energy consumption all households per source
  EN_HH[ce] := sum(EN_HH[ce, h] on h)

# equation 9.6: Energy consumption from housholds and sector by source
  EN_HHSEC_SOU[ce] := EN_HH[ce] + EN_SOU[ce] 

# equation 9.7: Energy consumption from biomass for households
  EN_HH_BIOM := sum(EN_HH_BIOM[h] on h)  

# equation 9.8: Energy consumption all households
  EN_HH := sum(EN_HH[ce] on ce)

# equation 9.9: Energy consumption from biomass
  EN_BIOM := EN_SEC_BIOM + EN_HH_BIOM  

# equation 9.10: Total Energy Consumption 
  EN_HHSEC := sum(EN_HHSEC_SOU[ce] on ce)
  EN_HH_TOT := EN_HH + EN_HH_BIOM
  EN_SEC_TOT := EN_SEC + EN_SEC_BIOM
  EN_TOT := EN_SEC + EN_HH + EN_BIOM

  EN_AGR := sum(EN_AGR[ce] on ce)
  EN_IND := sum(EN_IND[ce] on ce)
  EN_TRANSP := sum(EN_TRANSP[ce] on ce) 
  EN_SER := sum(EN_SER[ce] on ce) 
  EN_TRANSFOR := sum(EN_TRANSFOR[ce] on ce)
  EN_GENER := sum(EN_GENER[ce] on ce)

  EN_CONFIN[ce] := EN_AGR[ce] + EN_IND[ce] + EN_TRANSP[ce] + EN_SER[ce] + EN_HH[ce]
  EN_CONFIN_TOT := sum(EN_CONFIN[ce] on ce)
  
# Electricity consumption bu Gwh
EN_Gwh_SEC[22, s] := EN_SEC[22, s]*(1/0.0036)
EN_Gwh_HH[22,h] := EN_HH[22, h]*(1/0.0036) 

EN_Gwh_SEC := sum(EN_Gwh_SEC[22, s] on s)
EN_Gwh_HH := sum(EN_Gwh_HH_22[h] on h)

EN_Gwh_AGR := sum(EN_GWh_SEC[22, s] on s in 01 02)
EN_Gwh_IND := sum(EN_Gwh_SEC[22, s] on s in 03 04 05 06 07 08 10 11)
EN_Gwh_TRANSP := sum(EN_Gwh_SEC[22, s] on s in 12 13 14 15 16 17) 
EN_Gwh_SER := sum(EN_Gwh_SEC[22, s] on s in 18 19) 
EN_Gwh_TRANSFOR := sum(EN_Gwh_SEC[22, s] on s in 09 20 21)
EN_Gwh_GENER := sum(EN_Gwh_SEC[22, s] on s in 22 23 24 25 26 27 28 29 30 31 32 33)

EN_Gwh_CONFIN := EN_Gwh_AGR + EN_Gwh_IND + EN_Gwh_TRANSP + EN_Gwh_SER + EN_Gwh_HH

EN_Gwh_ToT := EN_GWH_SEC + EN_Gwh_HH

# Eletricity prices by sector on pesos cents

P_kwh_AGR := ((sum(E[22,s] on s in 01 02))/EN_Gwh_AGR)*100
P_kwh_IND := ((sum(E[22,s] on s in 03 04 05 06 07 08 09 10 11))/EN_Gwh_IND)*100
P_kwh_TRANSP := ((sum(E[22,s] on s in 12 13 14 15 16 17))/EN_Gwh_TRANSP)*100
P_kwh_SER := ((sum(E[22,s] on s in 18 19))/EN_Gwh_SER)*100
#P_kwh_ENER := ((sum(E[22,s] on s in 20 21))/EN_Gwh_ENER)*100
P_kwh_GENER := ((sum(E[22,s] on s in 22 23 24 25 26 27 28 29 30 31 32 33))/EN_Gwh_GENER)*100

P_kwh_HH := (EXP_22/EN_Gwh_HH)*100